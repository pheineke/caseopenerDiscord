/*
	Base stylesheet for Case Opening Simulator
	Theme: Futuristic dark UI with neon & holographic accents.
	Palette variables let pages retheme easily.
*/

:root {
	--color-bg: #0b0f17;
	--color-bg-alt: #141c2b;
	--color-surface: #1d2738;
	--color-surface-alt: #263347;
	--color-border: #2f4761;
	--color-border-glow: #3fa9f5;
	--color-primary: #3fa9f5; /* cyan */
	--color-primary-accent: #5dd7ff;
	--color-win: #ffd447; /* golden drop */
	--color-danger: #ff4d5d;
	--color-text: #d8e6f5;
	--color-text-dim: #93a7bd;
	--gradient-accent: linear-gradient(135deg,#3fa9f5 0%,#7b5dfd 50%,#ff4d9c 100%);
	--radius-xs: 3px;
	--radius-sm: 6px;
	--radius-md: 10px;
	--radius-lg: 18px;
	--shadow-soft: 0 4px 10px -2px rgba(0,0,0,.4),0 2px 4px -1px rgba(0,0,0,.5);
	--shadow-glow: 0 0 0 1px rgba(63,169,245,.4),0 0 18px -2px rgba(63,169,245,.6);
	--transition-fast: 120ms cubic-bezier(.4,0,.2,1);
	--transition-medium: 240ms cubic-bezier(.4,0,.2,1);
	--font-stack: 'Inter', 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif;
	--font-mono: 'JetBrains Mono', 'Fira Code', Menlo, Consolas, monospace;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
	margin: 0;
	font-family: var(--font-stack);
	-webkit-font-smoothing: antialiased;
	background: radial-gradient(circle at 30% 20%, #182233, #0b0f17 60%) fixed;
	color: var(--color-text);
	line-height: 1.4;
	overflow-y: scroll;
}

body::before {
	content: "";
	position: fixed;
	inset: 0;
	background:
		repeating-linear-gradient(60deg, rgba(255,255,255,.02) 0 2px, transparent 2px 6px),
		radial-gradient(circle at 80% 70%, rgba(63,169,245,.15), transparent 60%),
		radial-gradient(circle at 20% 30%, rgba(255,77,156,.12), transparent 55%);
	pointer-events: none;
	mix-blend-mode: screen;
	z-index: -1;
}

a { color: var(--color-primary); text-decoration: none; }
a:hover { color: var(--color-primary-accent); }

img { max-width: 100%; display: block; }

/* Layout */
.app-shell { min-height: 100%; display: flex; flex-direction: column; }
header.site-header {
	position: sticky; top: 0; z-index: 30;
	backdrop-filter: blur(14px) saturate(160%);
	background: rgba(13,18,28,.72);
	border-bottom: 1px solid rgba(255,255,255,.05);
}

.nav-bar { display: flex; align-items: center; gap: 1.2rem; padding: .85rem 1.5rem; }
.nav-brand { font-weight: 600; font-size: 1.05rem; letter-spacing: .5px; background: var(--gradient-accent); -webkit-background-clip: text; color: transparent; }
.nav-spacer { flex: 1; }
.nav-actions { display: flex; gap: .6rem; }

main { flex: 1; width: min(1400px, 100%); margin: 0 auto; padding: 1.75rem 1.25rem 3rem; }
footer { text-align: center; font-size: .75rem; padding: 1.5rem 1rem; color: var(--color-text-dim); }

/* Surface / Card */
.surface {
	background: linear-gradient(145deg, var(--color-surface), var(--color-surface-alt));
	border: 1px solid var(--color-border);
	border-radius: var(--radius-md);
	padding: 1.25rem 1.35rem;
	position: relative;
	box-shadow: var(--shadow-soft);
}
.surface.glow { box-shadow: var(--shadow-glow); }

/* Buttons */
.btn { --btn-bg: var(--color-surface); --btn-border: var(--color-border); --btn-fg: var(--color-text);
	display: inline-flex; align-items: center; justify-content: center; gap: .5ch;
	font: 500 0.9rem/1 var(--font-stack);
	padding: .75rem 1.05rem; border-radius: var(--radius-sm);
	border: 1px solid var(--btn-border);
	background: var(--btn-bg);
	color: var(--btn-fg);
	cursor: pointer;
	position: relative;
	transition: background var(--transition-medium), border-color var(--transition-medium), transform var(--transition-fast), color var(--transition-medium);
}
.btn:hover { border-color: var(--color-primary); color: var(--color-primary-accent); }
.btn:active { transform: translateY(2px); }
.btn-primary { --btn-bg: linear-gradient(135deg,#2577aa,#3942b5); --btn-border: #3179c3; }
.btn-primary:hover { --btn-bg: linear-gradient(135deg,#2d8fcf,#4c53d8); color: #e9f8ff; }
.btn-danger { --btn-bg: linear-gradient(135deg,#a6273b,#782041); --btn-border: #c23950; }
.btn-danger:hover { --btn-bg: linear-gradient(135deg,#d0314f,#9c2d4e); }
.btn-win { --btn-bg: linear-gradient(135deg,#a47a07,#c99820); --btn-border: #d4a311; }
.btn-win:hover { --btn-bg: linear-gradient(135deg,#c4900d,#f2c03a); }
.btn.disabled, .btn:disabled { opacity: .45; cursor: not-allowed; }

/* Flash messages */
.flash-stack { position:fixed; top:70px; right:18px; display:flex; flex-direction:column; gap:.6rem; z-index:200; width:min(320px, calc(100% - 2rem)); }
.flash { padding:.75rem .85rem; font-size:.7rem; letter-spacing:.4px; border-radius:var(--radius-sm); background:linear-gradient(140deg,#1d2738,#263347); border:1px solid #2f4761; box-shadow:0 4px 18px -8px rgba(0,0,0,.55); position:relative; overflow:hidden; }
.flash::after { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(63,169,245,.12),transparent 60%); opacity:.4; pointer-events:none; }
.flash-success { border-color:#3179c3; box-shadow:0 4px 18px -8px rgba(49,121,195,.55); }
.flash-error { border-color:#c23950; box-shadow:0 4px 18px -8px rgba(194,57,80,.55); }
.flash-info { border-color:#2f4761; }
.flash.fade { opacity:0; transform:translateY(-6px); transition: opacity .6s ease, transform .6s ease; }

/* Case Grid */
.case-grid { --cols: 6; display: grid; gap: 1rem; grid-template-columns: repeat(var(--cols), minmax(0,1fr)); }
@media (max-width: 1200px) { .case-grid { --cols: 5; } }
@media (max-width: 1000px) { .case-grid { --cols: 4; } }
@media (max-width: 820px) { .case-grid { --cols: 3; } }
@media (max-width: 600px) { .case-grid { --cols: 2; } }
@media (max-width: 420px) { .case-grid { --cols: 1; } }

.case-item { position: relative; aspect-ratio: 1/1.25; border-radius: var(--radius-md); overflow: hidden; cursor: pointer; background: linear-gradient(160deg,#1f2937,#121a26); border: 1px solid #243245; display: flex; flex-direction: column; justify-content: space-between; padding: .75rem .65rem .6rem; transition: transform var(--transition-medium), box-shadow var(--transition-medium), border-color var(--transition-medium); }
.case-item::before { content: ""; position: absolute; inset: 0; background: linear-gradient(140deg, rgba(63,169,245,.25), transparent 40%), radial-gradient(circle at 80% 10%, rgba(255,77,156,.25), transparent 55%); opacity: .4; mix-blend-mode: overlay; transition: opacity var(--transition-medium); }
.case-item:hover { transform: translateY(-6px); box-shadow: 0 12px 28px -8px rgba(0,0,0,.6), 0 4px 10px -4px rgba(0,0,0,.5); border-color: var(--color-primary); }
.case-item:hover::before { opacity: .75; }
.case-title { font-size: .85rem; font-weight: 500; letter-spacing: .5px; }
.case-price { font-size: .7rem; font-weight: 600; color: var(--color-primary-accent); margin-top: .2rem; }
.case-rarity-bar { height: 4px; margin-top: .45rem; border-radius: 2px; background: linear-gradient(90deg,#5dd7ff,#7b5dfd,#ff4d9c,#ffd447); position: relative; overflow: hidden; }
.case-rarity-bar::after { content:""; position:absolute; inset:0; background: linear-gradient(120deg, transparent 0 35%, rgba(255,255,255,.6) 40%, transparent 55%); animation: shine 4.5s linear infinite; opacity:.35; }
.case-layout { display:flex; flex-direction:column; padding:.65rem .65rem .6rem; }
.case-layout .case-top { flex:0 0 auto; display:flex; flex-direction:column; gap:.4rem; }
.case-title-row { display:flex; justify-content:space-between; gap:.5rem; align-items:flex-start; }
.case-layout .case-img-shell { position:relative; flex:1 1 auto; margin-top:.55rem; border:1px solid #2a3a50; border-radius: var(--radius-sm); overflow:hidden; background:linear-gradient(160deg,#1f2937,#121a26); display:flex; align-items:center; justify-content:center; }
.case-img-fill { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; filter:brightness(.95) saturate(1.1); transition: transform var(--transition-medium), filter var(--transition-medium); }
.case-layout:hover .case-img-fill { transform:scale(1.06); filter:brightness(1.05) saturate(1.2); }
.case-img-placeholder { padding:.75rem; }

/* Avatar Dropdown */
.avatar-link { position:relative; }
.avatar-menu-trigger { cursor:pointer; }
.avatar-dropdown { position:absolute; top:110%; right:0; background:linear-gradient(150deg,#1d2738,#263347); border:1px solid #2f4761; border-radius:var(--radius-md); min-width:180px; padding:.4rem; box-shadow:0 8px 26px -8px rgba(0,0,0,.6); display:flex; flex-direction:column; gap:.2rem; opacity:0; pointer-events:none; transform:translateY(6px); transition:opacity var(--transition-medium), transform var(--transition-medium); z-index:60; }
.avatar-dropdown a { display:flex; align-items:center; gap:.55rem; font-size:.78rem; padding:.55rem .65rem; border-radius:var(--radius-sm); color:var(--color-text); border:1px solid transparent; }
.avatar-dropdown a:hover { background:#223041; border-color:#2f4761; color:var(--color-primary-accent); }
.avatar-link.open .avatar-dropdown { opacity:1; pointer-events:auto; transform:translateY(0); }
.avatar-username { font-size:.65rem; letter-spacing:.5px; opacity:.7; padding:.4rem .65rem .15rem; }

@keyframes shine { to { transform: translateX(100%); } }

/* Opening Reel (for spin animation container) */
.reel-wrapper { position: relative; overflow: hidden; width: 100%; max-width: 900px; margin: 2.2rem auto 1.5rem; border: 2px solid #2b3c52; border-radius: var(--radius-lg); background: linear-gradient(180deg,#182233,#0f1622); box-shadow: 0 10px 32px -12px rgba(0,0,0,.65); }
.reel-track { display: flex; gap: .75rem; padding: 1.25rem 1.25rem; animation: reel-spin 6s cubic-bezier(.24,.7,.18,1) forwards; }
.reel-item { flex: 0 0 140px; height: 140px; border-radius: var(--radius-sm); background: linear-gradient(140deg,#223041,#141e2c); border: 1px solid #2c4258; position: relative; display: flex; align-items:center; justify-content:center; font-size:.75rem; color: var(--color-text-dim); text-align:center; padding:.5rem; }
.reel-item.win { background: linear-gradient(140deg,#a47a07,#3d2d00); border-color: #d4a311; color:#ffe8a3; }
@keyframes reel-spin { 0% { transform: translateX(0); } 100% { transform: translateX(calc(-50%)); } }

/* Modal */
.modal-overlay { position: fixed; inset: 0; background: rgba(10,14,20,.72); backdrop-filter: blur(10px); display: flex; align-items: center; justify-content: center; padding: 2rem 1rem; z-index: 100; animation: fade-in var(--transition-medium) forwards; }
.modal { width: min(520px,100%); background: linear-gradient(155deg,#1f2937,#141c29); border: 1px solid #2a3a50; border-radius: var(--radius-lg); padding: 1.75rem 1.5rem 1.85rem; position: relative; box-shadow: var(--shadow-soft), 0 0 0 1px rgba(63,169,245,.15); }
.modal h2 { margin: 0 0 1rem; font-size: 1.1rem; letter-spacing:.5px; }
.modal-close { position:absolute; top:.65rem; right:.65rem; }
@keyframes fade-in { from { opacity:0; transform: translateY(10px);} to { opacity:1; transform: translateY(0);} }

/* Forms */
label { font-size: .75rem; text-transform: uppercase; letter-spacing: .8px; font-weight: 600; color: var(--color-text-dim); display:block; margin: 0 0 .45rem; }
input[type=text], input[type=password], input[type=number], select, textarea {
	width: 100%; border: 1px solid #2b3f55; background: #121a26; color: var(--color-text);
	padding: .75rem .85rem; border-radius: var(--radius-sm); font: 500 .85rem/1.2 var(--font-stack);
	transition: border-color var(--transition-fast), background var(--transition-fast);
}
input:focus, select:focus, textarea:focus { outline: none; border-color: var(--color-primary); background: #15202e; box-shadow: 0 0 0 2px rgba(63,169,245,.25); }
::placeholder { color: #5c7289; }

/* Utility */
.stack { display: flex; flex-direction: column; gap: var(--gap, 1rem); }
.row { display: flex; gap: var(--gap, 1rem); }
.center { display:flex; align-items:center; justify-content:center; }
.hidden { display:none !important; }
.text-dim { color: var(--color-text-dim); }
.mono { font-family: var(--font-mono); }
.divider { height:1px; background: linear-gradient(90deg, transparent, #2c3d52 40%, #2c3d52 60%, transparent); margin: 1.25rem 0; }

/* Scrollbars (Webkit) */
::-webkit-scrollbar { width: 11px; }
::-webkit-scrollbar-track { background: #0e141d; }
::-webkit-scrollbar-thumb { background: #263445; border-radius: 6px; border: 2px solid #0e141d; }
::-webkit-scrollbar-thumb:hover { background: #35506b; }

/* Anim helpers */
.pulse-win { animation: pulse-win 2.2s ease-in-out infinite; }
@keyframes pulse-win {
	0%,100% { box-shadow: 0 0 0 0 rgba(255,212,71,.55),0 0 0 0 rgba(255,212,71,.35); }
	50% { box-shadow: 0 0 0 6px rgba(255,212,71,0),0 0 0 3px rgba(255,212,71,0); }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
	* { animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: 0ms !important; }
}

/* Responsive tweaks */
@media (max-width: 780px) {
	main { padding: 1.25rem 1rem 2.5rem; }
	.nav-bar { padding: .7rem 1rem; }
}

@media (max-width: 520px) {
	.nav-actions { display:none; }
	.reel-item { flex: 0 0 120px; height: 120px; }
}

